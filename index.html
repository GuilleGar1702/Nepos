<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nepos</title>
    <link rel="stylesheet" href="./CSS/Styles.css">
</head>
<body>
    <header>
        <section id="header">
            <div id="logo">
                <img src="./Img/Logo.svg" alt="Logo">
                <h1>Nepos</h1>
            </div>
            <div id="menuButtonHaver">
                <button id="menu">
                    <div id="barra1"></div>
                    <div id="barra2"></div>
                    <div id="barra3"></div>
                </button>
            </div>
        </section>
    </header>



    <main>
        <section id="chatBody">

        </section>

        <section id="inputHaver">
            <textarea id="userPrompt" placeholder="Your text here..."></textarea>
        </section>
    </main>


    <footer>
        
    </footer>

    
    <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
          }
        }
      </script>
      <script type="module">
        import { GoogleGenerativeAI } from "@google/generative-ai";
      
        async function run() {
          const API_KEY = "AIzaSyBOI0Y7S8O-AU3GMD1iwnKfQTK_5fabPkE";
      


          const genAI = new GoogleGenerativeAI(API_KEY);
            const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
      
            const chat = model.startChat({
                history: [
                {
                    role: "user",
                    parts: [{ text: "Hello, I have 2 dogs in my house." }],
                },
                {
                    role: "model",
                    parts: [{ text: "Great to meet you. What would you like to know?" }],
                },
                ],
                generationConfig: {
                maxOutputTokens: 100,
                },
            });
            const userPrompt = document.getElementById('userPrompt');
            let prompt = '';

          try {
        
            userPrompt.addEventListener('input', function() {
              prompt = userPrompt.value;
            });
      
            userPrompt.addEventListener('keydown', async function(event) {
              if (event.key === 'Enter') {
                const result = await chat.sendMessage(prompt);
                const response = await result.response;
                const text = response.text();
                console.log('AI:', text);
                prompt = '';
              }
            });
          } catch (error) {
            console.error('Error:', error);
          }
        }
      
        run();
      </script>


<script src="./JS/inputBar.js"></script>
    
</body>
</html>